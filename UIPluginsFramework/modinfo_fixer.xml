<?xml version="1.0"?>
<!-- Copyright 2018 FiatAccompli -->
<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
  <xsl:output method="xml" encoding="utf-8" indent="yes"/>
  <xsl:strip-space elements="*"/>

  <xsl:include href="../modinfo_fixer_base.xml"/>

  <xsl:template match="/Mod/Properties">
    <xsl:copy>
      <xsl:apply-templates select="@*|node()"/>
    </xsl:copy>
    <LocalizedText>
      <xsl:call-template name="GenerateText">
        <xsl:with-param name="identifier" select="'LOC_MOD_UI_PLUGINS_FRAMEWORK_NAME'"/>
        <xsl:with-param name="is_mod_name" select="true()"/>
        <xsl:with-param name="base" select="'UI Plugins Framework'"/>
      </xsl:call-template>
      <xsl:call-template name="GenerateText">
        <xsl:with-param name="identifier" select="'LOC_MOD_UI_PLUGINS_FRAMEWORK_TEASER'"/>
        <xsl:with-param name="base" select="'Stuff'"/>
      </xsl:call-template>
    </LocalizedText>
  </xsl:template>

  <xsl:template match="/Mod/InGameActions">
    <xsl:copy>
      <ReplaceUIScript id="ReplaceInGame">
        <Properties>
          <LoadOrder>10200</LoadOrder>
          <LuaContext>InGame</LuaContext>
          <LuaReplace>UI/ingame_uiplugins_replacement.lua</LuaReplace>
        </Properties>
      </ReplaceUIScript>
      <xsl:apply-templates select="@*|node()"/>
    </xsl:copy>
  </xsl:template>

  <xsl:template match="/Mod/InGameActions/ReplaceUIScript[@id='ReplaceInGame']"/>
</xsl:stylesheet>